{% extends "base.html" %}
{% block content %}

<div class="container my-5 text-center">

    <h2 class="vintage-title">Reproductor 33RPM</h2>

    <div class="vinyl-wrapper mx-auto mb-4">
        <div class="vinyl" id="vinyl">
            <div class="vinyl-center"></div>
        </div>
    </div>

    <audio id="audioPlayer" controls class="w-75">
        <source src="/static/music/sample.mp3" type="audio/mpeg">
    </audio>

</div>

<style>
.vinyl-wrapper {
    width: 250px;
    height: 250px;
    position: relative;
}

.vinyl {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: radial-gradient(circle at center, #111 40%, #000 70%);
    border: 8px solid #222;
    position: relative;
    animation: spin 3s linear infinite;
    animation-play-state: paused;
}

.vinyl::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 80%;
    height: 80%;
    background: repeating-radial-gradient(
        circle,
        #222 0px,
        #222 2px,
        #111 3px,
        #111 6px
    );
    border-radius: 50%;
    transform: translate(-50%, -50%);
}

.vinyl-center {
    position: absolute;
    width: 50px;
    height: 50px;
    background: #c29d5f;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
</style>

<script>
const audio = document.getElementById("audioPlayer");
const vinyl = document.getElementById("vinyl");

audio.addEventListener("play", function() {
    vinyl.style.animationPlayState = "running";
});

audio.addEventListener("pause", function() {
    vinyl.style.animationPlayState = "paused";
});

audio.addEventListener("ended", function() {
    vinyl.style.animationPlayState = "paused";
});
</script>

{% endblock %}
